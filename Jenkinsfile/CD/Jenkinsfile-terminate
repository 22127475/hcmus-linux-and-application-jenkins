pipeline {
    agent any

    parameters {
        string(name: 'task_id')
    }
    stages {
        stage('Terminate ECS task') {
            steps {
                dir(env.WORKSPACE) {
                    script {
                        sh """
                            dos2unix ./script/delete_ecs_task.sh
                            chmod +x ./script/delete_ecs_task.sh 
                        """
                        
                        echo "ðŸš€ Executing deployment script..."
                        sh """
                            bash ./script/delete_ecs_task.sh "${params.task_id}"
                        """
                    }
                }
            }
        }
    }
}
